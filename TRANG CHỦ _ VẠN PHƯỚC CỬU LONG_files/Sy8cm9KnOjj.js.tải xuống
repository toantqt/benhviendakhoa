if (self.CavalryLogger) { CavalryLogger.start_js(["Y9yZN"]); }

__d("MPNMobileBadgeableMessengerIcon.react",["LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginMessengerIconSVGWithColor.react","MessagingPluginContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.threadColor!=null?g.jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):g.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{});return g.jsx("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",children:a})};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileBotMenuDialog.react",["cx","CometMenu.react","CometMenuItem.react","LiveChatPluginLoggerUtil","MNCommercePostbackCTADataManager","MPNIdentity","MercuryIDs","MessagingPluginContext","React","URI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;c.state={navigationPath:[]};c.$1=b("LiveChatPluginLoggerUtil").getAttributionTags();c.$2=b("MercuryIDs").getThreadIDFromUserID(c.context.state.pageID);return c}var d=c.prototype;d.render=function(){var a=this,c=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(d=d[f].nested_ctas)}d&&d.map(function(d,b){switch(d.action_type){case 4:a.$3(d,c);break;case 2:a.$4(d,c);break;case 11:a.$5(d,b,c);break;default:c.push({menuItemProps:{primaryText:d.title||""}});break}});return i.jsx("div",{className:"_91fq",children:i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:c.map(function(c,a){return i.createElement(b("CometMenuItem.react"),babelHelpers["extends"]({},c.menuItemProps,{key:a}))})})})};d.$4=function(a,c){var d=this.context.state.pageID,e=function(c){(h||(h=b("URI"))).goURIOnNewWindow(a.action_link||"");c=b("MPNIdentity").MPNIdentity.currentUserID();b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",c,d,b("MPNIdentity").MPNIdentity.currentUserState()===b("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",{action_type:"customer_chat_bot_menu_url_redirect_clicked"})};c.push({menuItemProps:{onClick:e,primaryText:a.title||""}})};d.$5=function(a,b,c){var d=this,e=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(b)}})};c.push({menuItemProps:{onClick:e,primaryText:a.title||""}})};d.$3=function(a,c){var d=this,e=this.context.state.pageID,f=function(c){c=b("MPNIdentity").MPNIdentity.currentUserState();switch(c){case b("MPNIdentity").MPNIdentityState.FB:b("MNCommercePostbackCTADataManager").sendAndConfirm(a.id||"",a.title||"",d.$2,null,null,null,d.$1,null,"CUSTOMER_CHAT_PLUGIN","source:discovery:customer_chat_plugin");break;case b("MPNIdentity").MPNIdentityState.GUEST:var f=d.context.state.messageStore;f=f.sendQueue;if(!f)return;f.enqueueAndSend(a.title||"",f.makePlatformTokenForPostbackCTA(a.id||""));break;default:return}f=b("MPNIdentity").MPNIdentity.currentUserID();b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",f,e,c===b("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",{action_type:"customer_chat_bot_menu_postback_clicked"})};c.push({menuItemProps:{onClick:f,primaryText:a.title||""}})};return c}(i.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileBotMenuButton.react",["cx","fbt","AsyncRequest","BasePopoverTrigger.react","CometPressable.react","LiveChatPluginConstants","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","LiveChatPluginSendButtonSVG.react","MPNBotMenuButtonSVG.react","MPNIdentity","MPNLocalState","MPNMobileBotMenuDialog.react","MPNStorage","MessagingPluginContext","React","XMessengerBotsMenuController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={menuItems:null,isMenuOpen:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};d.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.accessToken&&this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.setState(this.$3(!1))};d.render=function(){var a=this,c=this.context.state,d=c.isComposerDisabled,e=c.hasActiveAutomation,f=c.hasPersistentMenu,g=c.threadCSSColor;return!d&&(e||!f||!this.state.menuItems||this.state.menuItems.length===0)?i.jsx("div",{className:" _64mk _64ml _8pz4",children:i.jsx(b("LiveChatPluginSendButtonSVG.react"),{threadColor:b("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT})}):i.jsx(b("BasePopoverTrigger.react"),{popover:b("MPNMobileBotMenuDialog.react"),popoverProps:{menuItems:this.state.menuItems},children:function(c,d){return i.jsx("div",{ref:c,children:i.jsx("div",{className:"_95e-",children:i.jsx(b("CometPressable.react"),{overlayRadius:50,"aria-label":h._("N\u00fat Menu c\u1ed1 \u0111\u1ecbnh"),onPress:function(){a.$4(),d()},children:i.jsx(b("MPNBotMenuButtonSVG.react"),{threadColor:g})})})})}})};d.$2=function(){var a=this,c=this.context,d=c.state,e=c.dispatchAction;c=d.pageID;d=b("MPNStorage").getFBStorageState();if(!d||d.chatState===b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED)return;d=b("MPNIdentity").MPNIdentity.currentUserState();switch(d){case b("MPNIdentity").MPNIdentityState.GUEST:d=(d=b("MPNIdentity").MPNIdentity.currentUser())==null?void 0:d.accessToken;if(d==null)return;b("LiveChatPluginGuestPersistentMenuQuery").fetch(c,d,function(b){b!=null&&b.length>0?(a.setState({menuItems:b}),e({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!0})):(a.setState({menuItems:[]}),e({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!1}))});break;case b("MPNIdentity").MPNIdentityState.FB:d=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",c).setBool("should_flatten",!0).getURI();this.$1=new(b("AsyncRequest"))().setURI(d).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send();break;default:return}};d.$4=function(){this.$3(this.state.isMenuOpen),this.props.onClick(),this.setState(function(a){return{isMenuOpen:!a.isMenuOpen}})};d.$3=function(a){a=a?"customer_chat_bot_menu_closed":"customer_chat_bot_menu_opened";var c=this.context.state,d=c.pageID;c=c.accessToken;var e=b("MPNIdentity").MPNIdentity.currentUserID();b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",e,d,c?"guest_chat_tab":"logged_in_chat_tab",{action_type:a})};return c}(i.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileGuestAttachmentButton.react",["cx","MPNPaperclipIconSVG.react","MessagingPluginContext","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ShimButton.react"),{"data-testid":void 0,className:"_99jy",onClick:this.props.onClick,children:h.jsx(b("MPNPaperclipIconSVG.react"),{color:this.props.color})})};return c}(h.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileGuestUpgradeUpsellPrompt.react",["cx","fbt","ix","Arbiter","ChatPluginMessengerBlurpleLogoSVG.react","Image.react","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","MPNConstants","MPNGuestUpgradeFBTStrings","MPNStorage","MessagingPluginContext","MessagingPluginThreadActions","React","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.componentDidMount=function(){var a=this.context.state,c=a.pageID;a=a.guestID;b("gkx")("1877511")?b("LiveChatPluginLoggerUtil").logImpressionUsingFalco(c,"upgrade_prompt",null,null,null,null,a,null,this.props.prompt):b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",c,"upgrade_prompt",null,null,null,null,null,a,{prompt_type:this.props.prompt})};d.render=function(){var a=this,c=this.props.prompt,d=b("MPNGuestUpgradeFBTStrings").getPromptTitle(c,this.context);c=b("MPNGuestUpgradeFBTStrings").getPromptSubtitle(c,this.context);var e=b("gkx")("1740404");e=e?j.jsx(b("ChatPluginMessengerBlurpleLogoSVG.react"),{height:24,width:24}):j.jsx(b("Image.react"),{className:"messengerIcon",src:i("1273954")});return j.jsxs("div",{"data-testid":void 0,className:"_9a5t _9j_p",children:[j.jsxs("div",{className:"promptHeaderContainer",children:[j.jsx("div",{className:"_9a5u",children:e}),j.jsxs("div",{className:"_9a5w",children:[j.jsx("div",{className:"_9a5x",children:d}),j.jsx("div",{className:"_9a5v",children:c})]})]}),j.jsxs("div",{className:"promptFooterContainer",children:[j.jsx("div",{className:"dismissButton footerButton",children:j.jsx(b("LiveChatPluginPromptButton.react"),{color:"rgba(0, 0, 0, .05)",hasIcon:!1,onClick:function(){b("MPNStorage").setShowUpgradePrompt(b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN),a.$2()},text:h._("L\u00fac kh\u00e1c")})}),j.jsx("div",{className:"continueButton footerButton",children:j.jsx(b("LiveChatPluginPromptButton.react"),{color:this.props.color,hasIcon:!0,onClick:function(){a.$1=b("MessagingPluginThreadActions").launchUpgradeFlowMobile(a.context,a.props.history,a.props.prompt),a.$3()},text:h._("Ti\u1ebfp t\u1ee5c")})})]})]})};d.$2=function(){var a=this.context,c=a.dispatchAction;a=a.state;var d=a.guestID;a=a.pageID;c({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",d,a,"upgrade_prompt",{button_name:"upgrade_prompt_not_now",prompt_type:this.props.prompt})};d.$3=function(){var a=this.context.state,c=a.guestID;a=a.pageID;b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",c,a,"upgrade_prompt",{button_name:"upgrade_prompt_continue",prompt_type:this.props.prompt})};return c}(j.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileMessageComposer.react",["cx","fbt","AbstractTextInput.react","Keys","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","LiveChatPluginSendButtonSVG.react","MPNConstants","MPNIdentity","MPNMobileBotMenuButton.react","MPNMobileGuestAttachmentButton.react","MPNStorage","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MessagingPluginContext","React","ShimButton.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.state={attachmentsDataMap:new Map(),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};e.$15=function(a){e.props.onChange(),e.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};e.$16=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),e.$14())};e.$14=function(){var a=e.context.state;if(!a.messageStore||!a.messageStore.sendQueue)return;var c=a.messageStore.sendQueue,d=e.state.inputValue.trim();d&&d.length>0&&c.enqueueAndSend(d,null);e.setState({inputValue:""});b("gkx")("1874704")?b("LiveChatPluginLoggerUtil").logActionUsingFalco(a.guestID,a.pageID,"guest_chat_tab","message_send"):b("LiveChatPluginLoggerUtil").logActionFromNewUI("message_send",a.guestID,a.pageID,"guest_chat_tab");e.focus();a.hasActiveAutomation&&b("LiveChatPluginLoggerUtil").logAction("automation_freeform_message_sent",b("MPNIdentity").MPNIdentity.currentUserID(),a.pageID)};c=e.context.state.pageID;d=b("MPNIdentity").MPNIdentity.currentUserID();if(d==null)return babelHelpers.assertThisInitialized(e);e.$5=b("MercuryMessageActions").getForFBID(d);e.$6=b("MercuryMessageObject").getForFBID(d);e.$7=b("MercuryIDs").getThreadIDFromUserID(c);e.$8=b("LiveChatPluginLoggerUtil").getAttributionTags();e.$1=[];e.$2=[];e.$3=[];e.$9=[];return e}var d=c.prototype;d.render=function(){return i.jsx("div",{className:this.context.state.isComposerDisabled?"_664i":"",children:i.jsxs("div",{className:"_99ks",children:[this.$10(),this.$11(),this.$12()]})})};d.$10=function(){var a=this.context.dispatchAction;return this.context.state.showUpgradeUpsellPrompt&&i.jsx(b("MPNMobileGuestAttachmentButton.react"),{color:this.context.state.threadCSSColor,onClick:function(){b("MPNStorage").setShowUpgradePrompt(b("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL),a({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:b("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL})}})};d.$12=function(){var a=this.context.state,c=a.isComposerDisabled;a=a.threadCSSColor;var d=this.state.inputValue.length===0&&this.state.attachmentsDataMap.size===0;return d||c?this.$13():i.jsx(b("ShimButton.react"),{"aria-label":h._("N\u00fat G\u1eedi"),className:"_4bqf _64mk _64ml","data-testid":void 0,onClick:this.$14,children:i.jsx(b("LiveChatPluginSendButtonSVG.react"),{threadColor:a})})};d.$11=function(){var a=this,c=this.context.state,d=c.pageName;c=c.isComposerDisabled;var e=b("gkx")("1755315");e=e?h._("T\u00ednh n\u0103ng nh\u1eadp b\u1ecb v\u00f4 hi\u1ec7u h\u00f3a \u0111\u1ed1i v\u1edbi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y."):h._("{page name} \u0111\u00e3 t\u1eaft t\u00ednh n\u0103ng nh\u1eadp.",[h._param("page name",d)]);return c?i.jsx("div",{className:"_664k",children:e}):i.jsx("div",{className:"_92dv",children:i.jsx(b("AbstractTextInput.react"),{"data-testid":void 0,onBlur:this.props.onBlur,onChange:this.$15,onClick:this.props.onClick,onKeyDown:this.$16,ref:function(b){a.$4=b},placeholder:h._("Nh\u1eafn tin...").toString(),value:this.state.inputValue})})};d.$13=function(){return i.jsx(b("MPNMobileBotMenuButton.react"),{onClick:this.props.onClick})};d.focus=function(){this.$4&&this.$4.focusInput()};return c}(i.PureComponent);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("LiveChatPluginCloseButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"10px",height:"10px",viewBox:"0 0 14 14",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-419.000000, -413.000000)",children:g.jsx("g",{transform:"translate(164.000000, 396.000000)",children:g.jsx("g",{children:g.jsx("g",{transform:"translate(250.000000, 12.000000)",children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("rect",{opacity:"0.200000003",x:"0",y:"0",width:"24",height:"24"}),g.jsxs("g",{transform:"translate(4.000000, 4.000000)",fill:"#000000",children:[g.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}),g.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"})]})]})})})})})})})})};return b}(g.PureComponent);e.exports=a}),null);
__d("MessagingPluginMobileInformationMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","LiveChatPluginLoggerUtil","MessagingPluginContext","React","URI"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){a=j.useContext(b("MessagingPluginContext"));a=a.state;var c=a.pageID,d=a.hasGuestMode;return j.jsx("div",{"data-testid":void 0,className:"_91fq",children:j.jsxs(b("CometMenu.react"),{size:"full",withArrow:!0,children:[j.jsx(b("CometMenuItem.react"),{onClick:function(){b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,d?"welcome_page_with_guest_option":"welcome_page",{button_name:"visit_facebook_page_menu_item"}),(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/"+c)},primaryText:h._("Truy c\u1eadp Trang Facebook")},"Visit Facebook Page"),j.jsx(b("CometMenuItem.react"),{onClick:function(){b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,d?"welcome_page_with_guest_option":"welcome_page",{button_name:"add_messenger_to_your_website_menu_item"}),(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:h._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")},"Add Messenger To Your Website")]})})}}),null);
__d("MessagingPluginMobileProfilePicture.react",["cx","Image.react","MessagingPluginContext","PrivacyTransparentOverlay.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.state,c=a.pageProfilePictureUri;a=a.isBusinessActive;var d=this.props,e=d.className,f=d.greenDotSize;d=d.disableStatusIndicator;return h.jsxs(b("PrivacyTransparentOverlay.react"),{children:[h.jsx(b("Image.react"),{className:(e=e)!=null?e:"_91k_",src:(e=this.props.personaProfilePictureUri)!=null?e:c}),a&&d!==!0?h.jsx("div",{className:"_91l0"+(f==="large"?" _97ut":"")+(f!=="large"?" _97uu":"")}):null]})};return c}(h.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNMobileWelcomePageModal.react",["cx","fbt","BasePopoverTrigger.react","BootloaderResource","CometLink.react","FlexLayout.react","JSResource","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNHeaderActionButton.react","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNMoreInfoButtonSVG.react","MPNNavigation","MPNStorage","MPNVerifiedBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginMobileInformationMenu.react","MessagingPluginMobileProfilePicture.react","React","ShimButton.react","XCookiesPolicyControllerRouteBuilder","XDataPolicyController","XTermsController","gkx","performanceAbsoluteNow","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");(i||(i=b("stylex"))).inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={settingBackground:!1,shouldShowBackground:d.context.state.optimisticStorageState.visibility==="not-hidden",isCloseButtonActive:!0},d.$7=function(){var a=d.context,c=a.state;a=a.dispatchAction;c=c.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:(j||(j=b("performanceAbsoluteNow")))()});b("MPNIdentity").MPNIdentity.performUIAction(d.$8,function(){var a=b("MPNStorage").getFBStorageState();a==null?a={requestID:b("MPNStorage").requestID,currentPath:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"not-hidden",showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:"new_guest_sess"});b("MPNStorage").setFBStorageState(a);b("MPNXDMessageManager").reloadPlugin()},function(){d.$8()});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},d.$8=function(){b("MPNNavigation").navigateToRoute(d.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),d.props.ActionDelegate&&d.props.ActionDelegate.onContinueAsGuest(function(){})},d.$9=function(){var a=d.context,c=a.state;a=a.dispatchAction;c=c.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:(j||(j=b("performanceAbsoluteNow")))()});b("MPNIdentity").MPNIdentity.performUIAction(function(){b("MPNNavigation").navigateToRoute(d.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){b("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),b("MPNStorage").setPath(b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),b("MPNXDMessageManager").reloadPlugin()},function(){b("MPNStorage").clearThirdPartyStorageState(),b("MPNXDMessageManager").reloadPlugin()});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,"itp_page",{button_name:"continue"})},d.$2=function(){d.setState({settingBackground:!0,shouldShowBackground:!1});var a=d.props.ActionDelegate,b=babelHelpers.assertThisInitialized(d);window.setTimeout(function(){a&&a.minimize(),b.setState({settingBackground:!1})},100);d.setState({isCloseButtonActive:!1});window.setTimeout(function(){d.setState({isCloseButtonActive:!0})},350)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.context.state.shouldEnableFunnelImprovement&&b("BootloaderResource").preload(b("JSResource")("MessagingPluginDialogBody.react").__setRef("MPNMobileWelcomePageModal.react"))};d.componentDidUpdate=function(){this.$1()};d.render=function(){return k.jsxs("div",{children:[k.jsx("div",{role:"none",className:this.state.shouldShowBackground?"_92bp":"_92bq",onClick:this.$2}),this.$3()]})};d.$3=function(){var a=this.context.state,c=a.hasGuestMode;a.pageName;var d=a.pageID;a=a.pageVerifiedStatus;var e=this.context.state,f=b("gkx")("1189683"),g=b("XTermsController").getURIBuilder().getURI().toString(),i=b("XDataPolicyController").getURIBuilder().getURI().toString(),j=b("XCookiesPolicyControllerRouteBuilder").buildURL({}),l=h._("Chat v\u1edbi {pageName}",[h._param("pageName",e.pageName)]);return k.jsx("div",{className:this.state.shouldShowBackground?"_908c":"_9jhn",onClick:this.$4,role:"none",children:k.jsxs("div",{className:"welcomePageModalSheetContent",children:[k.jsxs("div",{className:"_9095",children:[k.jsx(b("MessagingPluginMobileProfilePicture.react"),{className:"_9096",greenDotSize:"large"}),k.jsx("div",{className:"_9dxh"}),k.jsxs("div",{className:"_9dzn",children:[k.jsx(b("BasePopoverTrigger.react"),{popover:b("MessagingPluginMobileInformationMenu.react"),popoverProps:{},children:function(a,e){return k.jsx("div",{"data-testid":void 0,ref:a,children:k.jsx(b("MPNHeaderActionButton.react"),{label:h._("Xem th\u00eam"),onPress:function(){e(),b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,d,c?"welcome_page_with_guest_option":"welcome_page",{button_name:"more_menu"})},children:k.jsx(b("MPNMoreInfoButtonSVG.react"),{})})})}}),k.jsx(b("MPNHeaderActionButton.react"),{label:h._("\u0111\u00f3ng"),onPress:this.$2,testid:void 0,children:k.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})]})]}),k.jsxs(b("FlexLayout.react"),{align:"center",className:"_9099",children:[k.jsx(b("LineClamp.react"),{lines:1,children:k.jsx("strong",{children:l})}),a&&a!=="not_verified"?k.jsx("span",{className:"lcfup58g",children:k.jsx(b("MPNVerifiedBadge.react"),{verificationStatus:a,size:18})}):null]}),k.jsx(b("LineClamp.react"),{className:"_909a",lines:1,children:e.pageResponsiveness}),k.jsx(b("LineClamp.react"),{className:"_909b",lines:3,children:e.loggedInGreeting!=null?e.loggedInGreeting:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()}),this.props.useITPContinueButton?this.$5():this.$6(c),k.jsx("div",{className:"_924l",children:this.props.useITPContinueButton?null:c?f?h._("B\u1eb1ng c\u00e1ch ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch, b\u1ea1n \u0111\u1ed3ng \u00fd v\u1edbi {=Terms} c\u1ee7a Facebook. H\u00e3y t\u00ecm hi\u1ec3u c\u00e1ch ch\u00fang t\u00f4i thu th\u1eadp, s\u1eed d\u1ee5ng v\u00e0 chia s\u1ebb d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n trong {=Data Policy}, c\u0169ng nh\u01b0 c\u00e1ch ch\u00fang t\u00f4i d\u00f9ng cookie v\u00e0 c\u00f4ng ngh\u1ec7 t\u01b0\u01a1ng t\u1ef1 trong {=Cookies Policy}.",[h._param("=Terms",k.jsx(b("CometLink.react"),{href:g,target:"_blank",children:h._("\u0110i\u1ec1u kho\u1ea3n")})),h._param("=Data Policy",k.jsx(b("CometLink.react"),{href:i,target:"_blank",children:h._("Ch\u00ednh s\u00e1ch d\u1eef li\u1ec7u")})),h._param("=Cookies Policy",k.jsx(b("CometLink.react"),{href:j,target:"_blank",children:h._("Ch\u00ednh s\u00e1ch cookie")}))]):h._("B\u1eb1ng c\u00e1ch ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch, b\u1ea1n \u0111\u1ed3ng \u00fd v\u1edbi {=Terms}, {=Data Policy} v\u00e0 {=Cookies Policy} c\u1ee7a Facebook.",[h._param("=Terms",k.jsx(b("CometLink.react"),{href:g,target:"_blank",children:h._("\u0110i\u1ec1u kho\u1ea3n")})),h._param("=Data Policy",k.jsx(b("CometLink.react"),{href:i,target:"_blank",children:h._("Ch\u00ednh s\u00e1ch d\u1eef li\u1ec7u")})),h._param("=Cookies Policy",k.jsx(b("CometLink.react"),{href:j,target:"_blank",children:h._("Ch\u00ednh s\u00e1ch cookie")}))]):null})]})})};d.$6=function(a){var c=this,d=this.context.state.threadCSSColor,e=b("gkx")("1189683");e=!a&&!e;a=a?k.jsx(b("ShimButton.react"),{"data-testid":void 0,onClick:this.$7,className:"_909e",children:k.jsx(b("LineClamp.react"),{lines:1,children:h._("Ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch")})}):null;return k.jsxs("div",{className:(e?"":"_909c")+(e?" _9ihg":""),children:[k.jsxs(b("ShimButton.react"),{onClick:function(){c.props.ActionDelegate&&c.props.ActionDelegate.onChatInMessenger()},className:"_909d",style:{backgroundColor:d},children:[k.jsx(b("MPNMessengerIconSVG.react"),{}),k.jsx(b("LineClamp.react"),{className:"continueText",lines:1,children:h._("Chat trong Messenger")})]}),a]})};d.$5=function(){var a=this.context.state.threadCSSColor;return k.jsx("div",{className:"_909c",children:k.jsx(b("ShimButton.react"),{onClick:this.$9,className:"_909d",style:{backgroundColor:a},children:k.jsx(b("LineClamp.react"),{className:"continueText",lines:1,children:h._("Ti\u1ebfp t\u1ee5c")})})})};d.$1=function(){this.context.state.optimisticStorageState.visibility==="not-hidden"&&!this.state.shouldShowBackground&&!this.state.settingBackground&&this.setState({shouldShowBackground:!0})};d.$4=function(a){a.stopPropagation()};return c}(k.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileThreadMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","CometSeparatorMenuItem.react","LiveChatPluginLoggerUtil","MPNIdentity","MessagingPluginContext","MessagingPluginThreadActions","ODS","React","URI","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){var c=j.useContext(b("MessagingPluginContext")),d=c.state,e=d.pageID,f=d.locale,g=d.guestID,k=d.showUpgradeUpsellPrompt;d=d.isPageInEU;var l=b("MPNIdentity").MPNIdentity.currentUserState()===b("MPNIdentity").MPNIdentityState.GUEST,m=!b("gkx")("1828157")&&!d;m||(b("gkx")("1828157")&&b("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_guest"),d&&b("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_page"));return j.jsx("div",{className:"_91fq",children:j.jsxs(b("CometMenu.react"),{size:"full",withArrow:!0,children:[l&&k?j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/app-messenger_filled_20-4x.png",style:"square"},onClick:function(){return a.onUpgrade()},primaryText:h._("Ti\u1ebfp t\u1ee5c trong Messenger")}):null,l?j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/cross-circle_filled_20-4x.png",style:"square"},iconStyle:"normal",onClick:function(){b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",g,e,"guest_chat_tab",{button_name:"end_chat_menu_item"}),c.dispatchAction({type:"TOGGLE_END_CHAT",showEndChat:!0})},primaryText:h._("K\u1ebft th\u00fac \u0111o\u1ea1n chat")}):null,m?j.jsx(b("CometMenuItem.react"),{icon:{src:"images/web_messenger/caution-triangle_filled_20-4x.png",style:"square"},iconStyle:"normal",onClick:function(){b("MessagingPluginThreadActions").openFRXPrompt(e,f)},primaryText:h._("C\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u1ed5n")}):null,j.jsx(b("CometSeparatorMenuItem.react"),{}),j.jsx(b("CometMenuItem.react"),{onClick:function(){b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",g,e,"guest_chat_tab",{button_name:"visit_facebook_page_menu_item"}),(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/"+e)},primaryText:h._("Truy c\u1eadp Trang Facebook")}),j.jsx(b("CometMenuItem.react"),{onClick:function(){b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",g,e,"guest_chat_tab",{button_name:"add_messenger_to_your_website_menu_item"}),(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:h._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")})]})})}}),null);
__d("MessagingPluginMobileDialogHeader.react",["cx","fbt","Arbiter","BasePopoverTrigger.react","FlexLayout.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNHeaderActionButton.react","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNVerifiedBadge.react","MessagingPluginContext","MessagingPluginMobileProfilePicture.react","MessagingPluginMobileThreadMenu.react","MessagingPluginThreadActions","React","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");(i||(i=b("stylex"))).inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");i.inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");i.inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");i.inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");i.inject(".hpj0pwwo{font-size:1.0625rem}",1);i.inject(".igjjae4c{font-weight:bold}",1);i.inject(".frx9we7d{word-break:break-all}",1);i.inject(".mov749r8{color:var(--fds-black-alpha-50)}",1);i.inject(".nfkogyam{font-size:0.8125rem}",1);i.inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");i.inject(".om3e55n1{position:relative}",1);i.inject(".iy1nols1{top:-1px}",1);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=function(){var a=d.context.state,c=a.guestID;a=a.pageID;d.$1=b("MessagingPluginThreadActions").launchUpgradeFlowMobile(d.context,d.props.history,b("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER);b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",c,a,"guest_chat_tab",{action_type:b("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER})},d.$3=function(){d.props.ActionDelegate&&d.props.ActionDelegate.minimize()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this.context.state,c=a.pageName,d=a.pageID,e=a.pageVerifiedStatus,f=a.guestID;a=this.context.state.optimisticStorageState.showUpgradePrompt!=b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN;return j.jsxs("div",{className:"_9dxj"+(a?"":" _9gop"),children:[j.jsx("div",{className:"nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:j.jsx(b("MessagingPluginMobileProfilePicture.react"),{})}),j.jsxs("div",{className:"_9dxi",children:[j.jsxs(b("FlexLayout.react"),{align:"center",children:[j.jsx(b("LineClamp.react"),{className:"frx9we7d igjjae4c hpj0pwwo",lines:1,children:j.jsx("strong",{children:c})}),e&&e!=="not_verified"?j.jsx("span",{className:"iy1nols1 om3e55n1 lcfup58g",children:j.jsx(b("MPNVerifiedBadge.react"),{verificationStatus:e,size:14})}):null]}),j.jsx(b("LineClamp.react"),{className:"nfkogyam mov749r8",lines:1,children:h._("Do Messenger cung c\u1ea5p")})]}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[j.jsx(b("BasePopoverTrigger.react"),{popover:b("MessagingPluginMobileThreadMenu.react"),popoverProps:{history:this.props.history,onUpgrade:this.$2},children:function(a,c){return j.jsx("div",{ref:a,children:j.jsx(b("MPNHeaderActionButton.react"),{label:h._("Xem th\u00eam"),onPress:function(){c(),b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",f,d,"guest_chat_tab",{button_name:"more_menu"})},children:j.jsx(b("MPNMoreInfoButtonSVG.react"),{})})})}}),j.jsx(b("MPNHeaderActionButton.react"),{label:h._("\u0111\u00f3ng"),onPress:this.$3,children:j.jsx(b("MPNMinusButtonSVG.react"),{})})]})]})};return c}(j.PureComponent);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileITPContinuePage.react",["LiveChatPluginLoggerUtil","MPNMobileWelcomePageModal.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","React","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("MPNXDMessageManager").setupMobileIframeForPath(b("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE);var a=this.context.state,c=a.pageID;a=a.pluginMountTime;b("gkx")("1877511")?b("LiveChatPluginLoggerUtil").logImpressionUsingFalco(c,"itp_page",a,["continue"]):b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",c,"itp_page",a,["continue"])};d.render=function(){try{return g.jsx(b("MPNMobileWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!0})}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",this.context.state.pageID,"itp_page",a.name,a.message,a.stack)}};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileIcon.react",["cx","fbt","ClickableArea.react","LiveChatPluginLoggerUtil","MPNMobileBadgeableMessengerIcon.react","MPNStorage","MPNXDMessageManager","MessagingPluginContext","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={dialogVisibility:(c=b("MPNStorage").getFBStorageState())==null?void 0:c.visibility,isButtonActive:!0},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.isDialogHidden",function(b){b=((b=b.data.params)==null?void 0:b.is_dialog_hidden)==!0?"hidden":"not-hidden";a.setState({dialogVisibility:b})});b("gkx")("1909041")?b("LiveChatPluginLoggerUtil").logImpressionUsingXController(this.props.pageID,"plugin_icon",this.props.pluginRequestTime,null,null,null,null,this.props.clientRequestTime):b("LiveChatPluginLoggerUtil").logImpressionUsingFalco(this.props.pageID,"plugin_icon",this.props.pluginRequestTime,null,null,null,null,this.props.clientRequestTime)};d.render=function(){var a=this;try{return i.jsx(b("ClickableArea.react"),{"data-testid":void 0,onClick:function(){a.props.actionDelegate.maximize(),a.setState({isButtonActive:!1}),window.setTimeout(function(){a.setState({isButtonActive:!0})},350)},children:i.jsx("div",{className:"_90dp","aria-label":this.state.dialogVisibility=="not-hidden"?"":h._("N\u00fat Chat v\u1edbi {page name}",[h._param("page name",this.props.pageName)]),children:i.jsx(b("MPNMobileBadgeableMessengerIcon.react"),{threadColor:this.props.threadColor})})})}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",this.props.pageID,"plugin_icon",a.name,a.message,a.stack)}};return c}(i.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileMessengerIconSVGwithColor.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:this.props.size,height:this.props.size,viewBox:"0 0 41 41",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-5.000000, -5.000000)",fill:this.props.threadColor,children:g.jsx("g",{children:g.jsx("g",{transform:"translate(5.000000, 5.000000)",children:g.jsx("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"})})})})})})};return b}(g.Component);e.exports=a}),null);
__d("MessagingPluginMobileLandingPage.react",["cx","fbt","Arbiter","FlexLayout.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNLocalState","MPNNavigation","MPNVerifiedBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginMobileMessengerIconSVGwithColor.react","MessagingPluginMobileProfilePicture.react","MessagingPluginPathUtils","React","ShimButton.react","gkx","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");(i||(i=b("stylex"))).inject(".hpj0pwwo{font-size:1.0625rem}",1);i.inject(".igjjae4c{font-weight:bold}",1);i.inject(".frx9we7d{word-break:break-all}",1);i.inject(".mov749r8{color:var(--fds-black-alpha-50)}",1);i.inject(".nfkogyam{font-size:0.8125rem}",1);i.inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");i.inject(".om3e55n1{position:relative}",1);i.inject(".iy1nols1{top:-1px}",1);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){var c=d.context.state,e=c.pageID;c=c.hasGuestMode;a.stopPropagation();b("MPNNavigation").navigateToRoute(d.props.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,e,"landing_page",{opened_tab:c?"welcome_page_with_guest_option":"welcome_page"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context.state,d=c.pageID,e=c.pluginMountTime,f=c.loggedInGreeting,g=c.shouldShowNewAutoExpand;b("MPNXDMessageManager").setupMobileIframeForPath(b("MessagingPluginPathUtils").MPN_PATH.LANDING);g&&(this.$1=window.setTimeout(function(){b("MPNNavigation").minimizePlugin(a.context,!0,!1)},4e3));this.$2=b("Arbiter").subscribe(b("LiveChatPluginConstants").NAVIGATE_TO_WELCOME_PAGE,function(c){g&&b("MPNNavigation").navigateToRoute(a.props.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE)});b("gkx")("1877511")?b("LiveChatPluginLoggerUtil").logImpressionUsingFalco(d,"landing_page",e,null,f!=null?f:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()):b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",d,"landing_page",e,null,f!=null?f:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString())};d.componentWillUnmount=function(){this.$1&&window.clearTimeout(this.$1),this.$2&&b("Arbiter").unsubscribe(this.$2)};d.render=function(){var a=this.context.state,c=a.pageID,d=a.pageName,e=a.pageVerifiedStatus,f=a.loggedInGreeting,g=a.threadCSSColor;a=a.optimisticStorageState;a=a.visibility==="hidden";d=h._("Chat v\u1edbi {pageName}",[h._param("pageName",d)]);try{return j.jsx("div",{className:"_90st",children:j.jsxs(b("ShimButton.react"),{"data-testid":void 0,className:"_8_x9",onClick:this.$3,children:[j.jsx("div",{className:"_90s_",children:j.jsx(b("MessagingPluginMobileMessengerIconSVGwithColor.react"),{threadColor:g,size:"24px"})}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:(a?"_94mw":"")+(a?"":" _9dxi")+(a?"":" _90sz"),children:[j.jsxs(b("FlexLayout.react"),{align:"center",children:[j.jsx(b("LineClamp.react"),{className:"frx9we7d igjjae4c hpj0pwwo",lines:1,children:j.jsx("strong",{children:d})}),e&&e!=="not_verified"?j.jsx("span",{className:"iy1nols1 om3e55n1 lcfup58g",children:j.jsx(b("MPNVerifiedBadge.react"),{verificationStatus:e,size:14})}):null]}),j.jsx(b("LineClamp.react"),{className:"nfkogyam mov749r8",lines:1,children:f!=null?f:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()})]}),j.jsx("div",{className:(a?"_94mw":"")+(a?"":" _91k-"),children:j.jsx(b("MessagingPluginMobileProfilePicture.react"),{})})]})})}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",c,"landing_page",a.name,a.message,a.stack)}};return c}(j.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileThreadPage.react",["cx","JSResource","LiveChatMqttClient","LiveChatPluginLoggerUtil","MPNConstants","MPNEndChatPrompt.react","MPNLocalState","MPNMobileGuestUpgradeUpsellPrompt.react","MPNMobileMessageComposer.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginMobileDialogHeader.react","MessagingPluginPathUtils","MessengerSpinner.react","MessengerState.bs","React","UnverifiedXD","emptyFunction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("lazyLoadComponent")(b("JSResource")("MessagingPluginDialogBody.react").__setRef("MessagingPluginMobileThreadPage.react")),i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=!1,c.state={dialogBodyHeight:-1,informationViewOpen:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MPNXDMessageManager").setupMobileIframeForPath(b("MessagingPluginPathUtils").MPN_PATH.THREAD),this.$3()};d.componentDidUpdate=function(){this.$3()};d.$3=function(){if(this.$2)return;var a=this.context.state,c=a.pageID,d=a.accessToken;a=a.guestID;c&&d&&a&&(b("LiveChatMqttClient").setUp(c,a,null,null,d),this.$2=!0)};d.render=function(){var a=this,c=this.context.state,d=c.optimisticStorageState,e=c.pageID,f=c.showUpgradeUpsellPrompt;c=c.shouldEnableFunnelImprovement;try{return i.jsx("div",{role:"none",className:"_926d",children:i.jsx("div",{className:d.chatState===b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED?"_91hz":"",children:i.jsxs("div",{className:"_6atj _90x4",children:[i.jsx(b("MessagingPluginMobileDialogHeader.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history}),i.jsxs("div",{className:"_424s",children:[c&&d.chatState===b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&i.jsx("div",{className:"spinner",children:i.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),i.jsx(i.Suspense,{fallback:i.jsx("div",{className:"spinner",children:i.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),children:d.chatState!==b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&i.jsx(b("MessengerState.bs").jsComponent,{fbid:this.context.state.guestID,children:function(c){return i.jsx(h,{deliveryReceipt:b("MessengerState.bs").deliveryReceipts(c),dialogBodyHeight:a.state.dialogBodyHeight,informationViewOpen:a.state.informationViewOpen,messengerState:c,sendRef:function(){}})}})})]}),d.showUpgradePrompt==null||d.showUpgradePrompt===b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN||!f?null:i.jsx(b("MPNMobileGuestUpgradeUpsellPrompt.react"),{color:this.context.state.threadCSSColor,prompt:this.context.state.optimisticStorageState.showUpgradePrompt,history:this.props.history}),i.jsx(b("MPNEndChatPrompt.react"),{isGuest:!0,history:this.props.history,shouldMinimize:!0}),i.jsx(b("MPNMobileMessageComposer.react"),{onBlur:this.$4()?this.$5:b("emptyFunction"),onChange:function(){},onClick:function(){},ref:function(b){return a.$1=b}})]},"dialog_container")})})}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",e,"guest_chat_tab",a.name,a.message,a.stack)}};d.$4=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};d.$5=function(){b("UnverifiedXD").send({type:"liveChatPluginBlurComposer"})};return c}(i.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileWelcomePage.react",["LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNMobileWelcomePageModal.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","React","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("MPNXDMessageManager").setupMobileIframeForPath(b("MessagingPluginPathUtils").MPN_PATH.WELCOME);var a=this.context.state,c=a.pageID,d=a.pluginMountTime,e=a.hasGuestMode;a=a.loggedInGreeting;b("gkx")("1877511")?b("LiveChatPluginLoggerUtil").logImpressionUsingFalco(c,e?"welcome_page_with_guest_option":"welcome_page",d,e?["chat_in_messenger","continue_as_guest"]:["chat_in_messenger"],a!=null?a:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()):b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",c,e?"welcome_page_with_guest_option":"welcome_page",d,e?["chat_in_messenger","continue_as_guest"]:["chat_in_messenger"],a!=null?a:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString())};d.render=function(){var a=this.context.state;try{return g.jsx(b("MPNMobileWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!1})}catch(c){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",a.pageID,a.hasGuestMode?"welcome_page_with_guest_option":"welcome_page",c.name,c.message,c.stack)}};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileRoute.react",["MessagingPluginMobileITPContinuePage.react","MessagingPluginMobileLandingPage.react","MessagingPluginMobileThreadPage.react","MessagingPluginMobileWelcomePage.react","MessagingPluginPathUtils","React","ReactRouterDOM"],(function(a,b,c,d,e,f){e.exports=a;var g=b("React");function a(a){var c,d=a.path,e=a.ActionDelegate;return g.jsx((a=b("ReactRouterDOM")).BrowserRouter,{children:g.jsxs(a.Switch,{children:[g.jsx(a.Route,{component:b("MessagingPluginMobileLandingPage.react"),exact:!0,path:(c=b("MessagingPluginPathUtils")).MPN_PATH.LANDING}),g.jsx(a.Route,{render:function(a){return g.jsx(b("MessagingPluginMobileWelcomePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:c.MPN_PATH.WELCOME}),g.jsx(a.Route,{render:function(a){return g.jsx(b("MessagingPluginMobileITPContinuePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:c.MPN_PATH.ITPCONTINUE}),g.jsx(a.Route,{render:function(a){return g.jsx(b("MessagingPluginMobileThreadPage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:c.MPN_PATH.THREAD}),g.jsx(a.Redirect,{to:d})]})})}}),null);
__d("MessagingPluginMobileWrapper.react",["Arbiter","AsyncRequest","CreateCustomerChatPluginGuestUserMutation","CurrentUser","LiveChatPluginConstants","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","LiveChatPluginUtils","MPNConstants","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNUnreadCountBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginGuestUpgradeActions","MessagingPluginMobileIcon.react","MessagingPluginMobileRoute.react","MessagingPluginPathUtils","MessagingPluginThreadActions","React","ReactDOM","XMNPlatformCustomerChatPluginOpenThreadController"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.shouldCreateGuestSession=!1;d.shouldPerformGuestUpgradeActions=!1;d.iconIframeLoaded=!1;d.$3=null;c=d.props.redirectCommand;d.initialPath=c==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION?b("MessagingPluginPathUtils").MPN_PATH.THREAD:d.props.path;c==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION?d.shouldCreateGuestSession=!0:c==b("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT&&(d.shouldPerformGuestUpgradeActions=!0);d.ActionDelegate={onContinueAsGuest:d.onContinueAsGuest.bind(babelHelpers.assertThisInitialized(d)),onChatInMessenger:d.onChatInMessenger.bind(babelHelpers.assertThisInitialized(d)),minimize:function(){b("MPNNavigation").minimizePlugin(d.context,!0)},maximize:function(){b("MPNNavigation").maximizePlugin(d.context,!0)}};d.$1=window.name;return d}var d=c.prototype;d.componentDidMount=function(){this.$5(),this.$6(),b("MPNXDMessageManager").setupMobileIframeForPath(this.initialPath)};d.componentWillUnmount=function(){this.$2&&window.clearTimeout(this.$2),this.$3&&b("Arbiter").unsubscribe(this.$3),this.$4&&window.clearTimeout(this.$4)};d.$5=function(){var a=this,c=this.context.state,d=c.alignment,e=c.pageID,f=c.pageName,h=c.serverTime,i=c.threadCSSColor,j=c.clientRequestTime,k=c.shouldShowNewAutoExpand,l=c.bottomSpacing;c=c.shouldEnableFunnelImprovement;var m=null;c&&(m=g.jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:i}));b("MPNXDMessageManager").setupIconIframe(this.$1,d,l,m);b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","bubbleFrameLoaded",function(c){if(c.data.frameName!=null){var d=g.jsx(b("MessagingPluginMobileIcon.react"),{threadColor:i,actionDelegate:a.ActionDelegate,pageID:e,pageName:f,pluginRequestTime:h,clientRequestTime:j}),l=parent.frames[c.data.frameName].document.body;b("ReactDOM").render(d,l);a.iconIframeLoaded=!0}if(c.data.unreadCountFrameName!=null){d=g.jsx(b("MPNUnreadCountBadge.react"),{});l=parent.frames[c.data.unreadCountFrameName].document.body;b("ReactDOM").render(d,l)}k||a.$7()})};d.$7=function(){var a=this,b=this.context.state,c=b.greetingDialogDelay,d=b.greetingDialogDisplay;b=b.isInitialLoad;if(!b)return;b=!1;var e=0,f=c;switch(d){case"show":case"unset":b=c>0;break;case"fade":b=c>0;e=c;f=0;break;case"hide":b=!1;break;default:break}if(!b)return;this.$2=window.setTimeout(function(){a.$8(e)},f)};d.$8=function(a){var c=this;this.context.state.optimisticStorageState.visibility==="hidden"&&(b("MPNNavigation").maximizePlugin(this.context,!0),a!=null&&a>0&&(this.$4=window.setTimeout(function(){c.context.state.optimisticStorageState.visibility!=="hidden"&&b("MPNNavigation").minimizePlugin(c.context,!0)},a)))};d.$6=function(){var a=this;b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.SDK.Called",function(c){var d=a.context.state,e=d.pageID,f=d.greetingDialogDelay,g=d.threadCSSColor,h=d.loggedInGreeting;d=d.loggedOutGreeting;c=b("LiveChatPluginLoggerUtil").EVENTMAP[c.data.event];b("LiveChatPluginLoggerUtil").logImpressionEvents(c,e,JSON.stringify({greetingDialogDelay:f}),g,h,d)});b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","updateCustomerChat",function(c){var d=a.context,e=d.state;d=d.dispatchAction;var f=e.loggedInGreeting,g=e.loggedOutGreeting;e=e.refParam;try{c=(c=c.data)==null?void 0:(c=c.message)==null?void 0:c.params;if(c==null)return;c=JSON.parse(c);var h=b("LiveChatPluginUtils").getSanitizedGreetingText(c.logged_in_greeting),i=b("LiveChatPluginUtils").getSanitizedGreetingText(c.logged_out_greeting);d({type:"SDK_UPDATE",loggedInGreeting:(d=h)!=null?d:f,loggedOutGreeting:(h=i)!=null?h:g,refParam:(d=c.ref)!=null?d:e})}catch(a){}});b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.isDialogHidden",function(c){c=((c=c.data.params)==null?void 0:c.is_dialog_hidden)==!0?"hidden":"not-hidden";b("MPNStorage").setVisibility(c);a.context.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:c})})};d.render=function(){var a=this;this.shouldCreateGuestSession&&(this.shouldCreateGuestSession=!1,this.onContinueAsGuest(function(){b("MPNStorage").clearRedirectCommand()}));this.shouldPerformGuestUpgradeActions&&(this.shouldPerformGuestUpgradeActions=!1,b("MPNStorage").clearRedirectCommand(),this.$3=b("Arbiter").subscribeOnce(b("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS,function(){b("MessagingPluginGuestUpgradeActions").clearGuestStorage(a.context),b("MPNNavigation").minimizePlugin(a.context,!0,!1),a.initialPath=b("MessagingPluginPathUtils").MPN_PATH.WELCOME,b("MPNXDMessageManager").reloadPlugin()}));return this.context.state.optimisticStorageState.visibility=="not-hidden"||this.iconIframeLoaded?g.jsx(b("MessagingPluginMobileRoute.react"),{path:this.initialPath,ActionDelegate:this.ActionDelegate}):null};d.onChatInMessenger=function(){var a=this.context.state,c=a.appSwitchUri,d=a.pageID;a=a.hasGuestMode;b("MessagingPluginThreadActions").appSwitch(c);b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,d,a?"welcome_page_with_guest_option":"welcome_page",{button_name:"chat_in_messenger"})};d.onContinueAsGuest=function(a){var c=this.context,d=c.state,e=c.dispatchAction,f=d.pageID,g=d.locale,h=d.requestID;b("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f,locale:g}},{onSuccess:function(c){var i,j;i=(i=c.create_customer_chat_plugin_guest_user)==null?void 0:i.session_key;j=(j=c.create_customer_chat_plugin_guest_user)==null?void 0:j.fbid;c=(c=c.create_customer_chat_plugin_guest_user)==null?void 0:c.access_token;if(i!=null&&j!=null&&c!=null){i=b("MPNStorage").getFBStorageState();var k={path:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:b("MPNLocalState").MPNChatState.GUEST_CHAT_STARTED,visibility:"not-hidden",showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN};b("MPNIdentity").MPNIdentity.changeIdentityToGuest(j,c);if(i!=null){var l=Date.now()+b("LiveChatPluginConstants").GUEST_SESSION_STORAGE_VALIDITY_MS;b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},i,{currentPath:k.path,chatState:k.chatState,userID:j,accessToken:c,expirationTimestamp:l,showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}))}else b("MPNStorage").clearThirdPartyStorageState();e({type:"START_CHAT",optimisticStorageState:k,accessToken:c,guestID:j});i=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",f).setString("ref",d.refParam).setString("referer_uri",d.refererUri).setString("request_id",h).setString("access_token",c).setString("locale",g).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());i.setAllowCrossPageTransition(!0).setMethod("POST").send();a(j,c)}},onFailure:function(a){e({type:"CLEAR_GUEST_SESSION",isLoggedIn:b("CurrentUser").isLoggedIn(),viewerID:b("CurrentUser").getID()}),e({type:"SET_ERROR",error:a})}})};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginMobileRoot",["cx","CometBlueBridgeKeyCommandListener.react","LiveChatPluginErrorBoundary.react","MPNCacheVersioning","MPNConstants","MPNIdentity","MPNLocalState","MPNStorage","MPNXDMessageManager","MessagingPluginMobileWrapper.react","MessagingPluginPathUtils","MessagingPluginStateProvider","ODS","React","ReactDOM","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(){function a(a){var b=a.alignment,c=a.pageID,d=a.container,e=a.serverTime,f=a.clientRequestTime,g=a.requestID,h=a.refererUri,i=a.originDomain,j=a.soundURLs,k=a.hasGuestMode,l=a.shouldShowNewAutoExpand,m=a.showUpgradeUpsellPrompt,n=a.hasAutomation,o=a.shouldEnableFunnelImprovement,p=a.appSwitchUri,q=a.upgradeAppSwitchUri,r=a.isBusinessActive,s=a.storedStates,t=a.isComposerDisabled,u=a.hasPersistentMenu,v=a.pageName,w=a.pageProfilePictureUri,x=a.pageResponsiveness,y=a.refParam,z=a.pageVerifiedStatus,A=a.greetingDialogDelay,B=a.greetingDialogDisplay,C=a.loggedInGreeting,D=a.loggedOutGreeting,E=a.threadCSSColor,F=a.locale,G=a.icebreakers,H=a.bottomSpacing;a=a.isPageInEU;try{this.$1(b,c,d,e,f,g,h,i,j,p,q,r,k,l,m,n,o,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,a)}catch(a){}}var c=a.prototype;c.$1=function(a,c,d,e,f,g,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){var L=this,M=!1;b("MPNStorage").initialize(k,c,g);b("MPNIdentity").MPNIdentity.hasStorageAccess(function(N){b("MPNIdentity").MPNIdentity.init(N);var O=g,P=u;P&&(b("MPNCacheVersioning").isLatestVersion(P.v)||(b("MPNStorage").clearThirdPartyStorageState(),P=null));(!P||!P.path||!P.chatState)&&(P=L.$2(D,C,q),b("MPNStorage").setThirdPartyStorageState(P));var Q=!1,R,S,T=P.visibility;if(N){var U,V=b("MPNStorage").getFBStorageState();U=(U=V)==null?void 0:U.rdr;U==null&&!b("MPNCacheVersioning").isLatestVersion((U=V)==null?void 0:U.v)&&(b("MPNStorage").clearFBStorageState(),V=b("MPNStorage").getFBStorageState());b("MPNStorage").isAccessTokenExpired()&&(b("MPNStorage").clearFBStorageState(),P=L.$2(D,C,q),b("MPNStorage").setThirdPartyStorageState(P));if(V!=null&&V.requestID!=null&&V.requestID!=""){U=V.requestID;(V.rdr==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||V.rdr==b("MPNConstants").MPNRedirect.ITP_CONTINUE_SESSION)&&(O=U,b("MPNStorage").initialize(k,c,U))}M=b("MPNStorage").setInitialStateIfNecessary(!0,T);V=b("MPNStorage").getFBStorageState();if(V!=null){Q=V.chatState!=b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED;R=V.accessToken;S=V.userID;T=V.visibility;P=babelHelpers["extends"]({},P,{path:V.currentPath,chatState:V.chatState,visibility:V.visibility,showUpgradePrompt:(U=V.showUpgradePrompt)!=null?U:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});b("MPNStorage").setThirdPartyStorageState(P)}}V=L.$3(N,P);T=="hidden"&&b("MPNXDMessageManager").updateAppearance(!0,!0,"false","true",null,a,"true",V);U=b("gkx")("1845768");N=r&&!U&&!K;N||(r&&U&&b("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_upgrade_entry_point_blocked_eu_guest"),r&&K&&b("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_upgrade_entry_point_blocked_eu_page"));T={pageID:c,pageName:x,pageProfilePictureUri:y,threadCSSColor:G,pageResponsiveness:z,isComposerDisabled:v,hasActiveAutomation:!1,hasPersistentMenu:w,greetingDialogDelay:C,greetingDialogDisplay:D,loggedInGreeting:E,loggedOutGreeting:F,alignment:a,refParam:A,refererUri:j,originDomain:k,appSwitchUri:m,upgradeAppSwitchUri:n,isBusinessActive:o,requestID:O,locale:H,icebreakers:I,pageVerifiedStatus:B,bottomSpacing:J,chatStarted:Q,accessToken:R,guestID:S,optimisticStorageState:P,soundURLs:l,isInitialLoad:M,hasGuestMode:p,shouldShowNewAutoExpand:q,showUpgradeUpsellPrompt:N,shouldEnableFunnelImprovement:t,pluginMountTime:(h||(h=b("performanceAbsoluteNow")))(),serverTime:e,clientRequestTime:f,upgradeUpsellPrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,cookieAccessDenied:!1,hasAutomation:s&&!U&&!K,isPageInEU:K};b("ReactDOM").render(i.jsx(b("LiveChatPluginErrorBoundary.react"),{pageID:c,children:i.jsx(b("CometBlueBridgeKeyCommandListener.react"),{children:i.jsx(b("MessagingPluginStateProvider"),{initialState:T,children:i.jsx("div",{className:"_95rw",children:i.jsx(b("MessagingPluginMobileWrapper.react"),{path:V,redirectCommand:b("MPNStorage").getRedirectCommand()})})})})}),d)})};c.$2=function(a,c,d){if(d)return{path:b("MPNLocalState").MPNLocalStatePath.LANDING_BANNER,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"not-hidden"};d=a==="hide"||c>0;a=d?b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE:b("MPNLocalState").MPNLocalStatePath.LANDING_BANNER;return{path:a,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d?"hidden":"not-hidden"}};c.$3=function(a,c){var d=b("MessagingPluginPathUtils").MPN_PATH.LANDING;if(a){a=b("MPNStorage").getFBStorageState();a!=null&&a.currentPath!=null?(d=b("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(a.currentPath),b("MPNXDMessageManager").storeThirdPartyState(a.currentPath,a.chatState)):c!=null&&a==null&&b("MPNXDMessageManager").removeThirdPartyState()}else c!=null&&c.path!=null&&(d=b("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(c.path)),d==b("MessagingPluginPathUtils").MPN_PATH.THREAD&&(d=b("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE);return d};return a}();e.exports=a}),null);